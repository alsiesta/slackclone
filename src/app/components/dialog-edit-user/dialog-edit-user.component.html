<div class="dialog-container">
  <mat-icon class="close-icon" mat-button mat-dialog-close>close</mat-icon>
  <div class="dialog-top">
    <span class="title">View and edit your profile </span>
    <span *ngIf="!isEditing" (click)="startEdit()" class="material-symbols-sharp">edit</span>
    <span *ngIf="isEditing" (click)="cancelEdit()" class="material-symbols-sharp">close</span>
  </div>
  <div class="dialog-main table-grid">
    <div>{{currentUser?.email}}</div>

    <div *ngIf="currentUser?.photoURL"><img src="{{currentUser?.photoURL}}" class="profile-image" alt="Profile Image">
    </div>
    <div *ngIf="!currentUser?.photoURL"><img src="{{currentUser?.photoURL}}" class="profile-image" alt="Profile Image">
    </div>

    <div>
      <span class="field-name">Display Name:</span>
      <div *ngIf="!isEditing">
        <span><b>{{currentUser?.displayName}}</b></span>
      </div>
      <div *ngIf="isEditing">
        <input #displayname type="text" value="{{currentUser?.displayName}}">
        <span *ngIf="isEditing" (click)="updateUserProperty('displayName', displayname.value)"
          class="material-symbols-sharp">done</span>
      </div>
    </div>


    <div>
      <span class="field-name">Firstname:</span>
      <div *ngIf="!isEditing">
        <span><br><b>{{currentUser?.firstName}}</b></span>
      </div>
      <div *ngIf="isEditing">
        <input type="text" #firstname value="{{currentUser?.firstName}}">
        <span *ngIf="isEditing" (click)="updateUserProperty('firstName', firstname.value)"
          class="material-symbols-sharp">done</span>
      </div>
    </div>


    <div>
      <span class="field-name">Lastname:</span>
      <div *ngIf="!isEditing">
        <span><br><b>{{currentUser?.lastName}}</b></span>
      </div>
      <div *ngIf="isEditing">
        <input type="text" #lastName value="{{currentUser?.lastName}}">
        <span *ngIf="isEditing" (click)="updateUserProperty('lastName', lastName.value)"
          class="material-symbols-sharp">done</span>
      </div>
    </div>


    <div>
      <span class="field-name">Email:</span>
      <div *ngIf="!isEditing">
        <span> <br><b>{{currentUser?.email}}</b></span>
      </div>
      <div *ngIf="isEditing">
        <input type="text" #email value="{{currentUser?.email}}">
        <span *ngIf="isEditing" (click)="updateUserProperty('email', email.value)"
          class="material-symbols-sharp">done</span>
      </div>
    </div>


    <div>
      <div *ngIf="data.emailVerified === true"><span class="field-name">Email verified:</span><br><b>Yes</b>
      </div>
      <div *ngIf="data.emailVerified === false"><span class="field-name">Email verified:</span><br>
        <b>No</b>
      </div>
    </div>
    <div *ngIf="currentUser?.street"><span class="field-name">Street:</span>
      <br><b>{{currentUser?.street}}</b>
    </div>


    <div>
      <div *ngIf="currentUser?.city"><span class="field-name">City:</span> <br><b>{{currentUser?.city}}</b>
      </div>
    </div>


    <div>
      <div *ngIf="currentUser?.zipCode"><span class="field-name">Zip-Code:</span>
        <br><b>{{currentUser?.zipCode}}</b>
      </div>
    </div>

    
    <div>
      <div *ngIf="currentUser?.birthDate"><span class="field-name">Birthdate:</span>
        <br><b>{{currentUser?.birthDate}}</b>
      </div>
    </div>

  </div>
</div>