<div *ngIf="this.channelService.channelReady" class="channel-container">
    <div class="channelTitle">
        <span (click)="this.channelService.channelDialogOpen()">{{ this.channelService.activeChannel.title }}</span>
    </div>
    <div class="channel-top">
        <h1>{{ this.channelService.activeChannel.title }}</h1>
        <div><span class="channel-creator">@{{ this.channelService.activeChannel.creator }}</span> hat diesen
            Channel am {{
            this.channelService.activeChannel.creationDate.toLocaleString() }} erstellt.
            Das ist der Anfang des Channels.</div>
    </div>

    <div *ngFor="let date of this.channelService.dateList" class="channel-date-spacer">
        <div class="channel-date">{{ date | date: 'dd.MM.yyyy' }}</div>

        <ng-container *ngFor="let thread of this.channelService.channelThreads">

            <div *ngIf="thread.date == date" class="posting">

                <div>
                    <img (click)="this.channelService.messageDialogOpen(thread.user, 'assets/img/threads/profile-picture.png')"
                        class="posting-image" src="assets/img/threads/profile-picture.png">
                </div>
                <div class="posting-main">
                    <div class="posting-main-top">
                        <div class="posting-user"
                            (click)="this.channelService.messageDialogOpen(thread.user, 'assets/img/threads/profile-picture.png')">
                            {{
                            thread.user }}</div>
                        <div class="posting-time">{{ thread.time }}</div>
                    </div>
                    <div class="posting-content">{{ thread.content }}</div>
                    <div *ngIf="thread.replies.length > 0">
                        <div class="posting-threads">
                            <div class="posting-thread-preview" *ngFor="let reply of thread.replies">
                                <img src="assets/img/threads/profile-picture.png">
                            </div>
                            <span class="posting-thread-reply">{{ thread.replies.length }} Antworten</span>
                            <span class="posting-thread-last">Letzte Antwort am {{ thread.replies[0].date | date:
                                'dd.MM.yyyy' }}</span>
                            <mat-icon class="posting-thread-navigate" fontIcon="navigate_next"></mat-icon>
                        </div>
                    </div>
                </div>

            </div>

        </ng-container>

    </div>



</div>